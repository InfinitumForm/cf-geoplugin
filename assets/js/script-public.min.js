/*
 * CF Geo Plugin
 * @package           cf-geoplugin
 * @link              https://wordpress.org/plugins/cf-geoplugin/
 * @author            Ivijan-Stefan Stipic <ivijan.stefan@gmail.com>
 * @copyright         2014-2022 Ivijan-Stefan Stipic
 * @license           GPL v2 or later
 */
!function(e){e(document).ready(function(a){var t,n;(t=e(".cf-geoplugin-banner.cache")).length>0&&1==CFGP.cache&&t.each(function(){var a=e(this),t=a.attr("data-id")||"",n=a.attr("data-posts_per_page")||"",r=a.attr("data-class")||"",o=a.attr("data-exact")||"",c=a.attr("data-default")||"",d=function(){return e.ajax({type:"POST",dataType:1==CFGP.rest_enabled?"json":"html",accept:1==CFGP.rest_enabled?"application/json":"text/html",url:1==CFGP.rest_enabled?CFGP.cache_banner_url:"undefined"!=typeof ajaxurl?ajaxurl:CFGP.ajaxurl,data:{action:"cf_geoplugin_banner_cache",id:t,posts_per_page:n,class:r,exact:o,default:c,key:void 0!==window.cfgeo?window.cfgeo.key:CFGP.key},async:!0}).done(function(e){1==CFGP.rest_enabled?!1===e.error&&a.html(e.response):a.html(e),a.removeClass("cache").addClass("cached").removeAttr("data-default").removeAttr("data-posts_per_page").removeAttr("data-class").removeAttr("data-exact").removeAttr("data-nonce").removeAttr("data-id")})};d().fail(function(){d().fail(function(){d()})})}),(n=e(".cf-geoplugin-shortcode.cache")).length>0&&1==CFGP.cache&&n.each(function(){var a=e(this),t=a.attr("data-options")||"",n=a.attr("data-type")||"",r=a.attr("data-default")||"",o=function(){return e.ajax({type:"POST",dataType:1==CFGP.rest_enabled?"json":"html",accept:1==CFGP.rest_enabled?"application/json":"text/html",url:1==CFGP.rest_enabled?CFGP.cache_shortcode_url:"undefined"!=typeof ajaxurl?ajaxurl:CFGP.ajaxurl,data:{action:"cf_geoplugin_shortcode_cache",options:t,shortcode:n,default:r,key:void 0!==window.cfgeo?window.cfgeo.key:CFGP.key},async:!0}).done(function(e){if(1==CFGP.rest_enabled){if("false"==e.response||!0===e.error)return;a.html(e.response)}else{if("false"==e)return;a.html(e)}a.removeClass("cache").addClass("cached").removeAttr("data-default").removeAttr("data-type").removeAttr("data-nonce").removeAttr("data-options")})};o().fail(function(){o().fail(function(){o()})})})})}(jQuery||window.jQuery||Zepto||window.Zepto);