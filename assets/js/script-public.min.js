/*
 * CF Geo Plugin
 * @package           cf-geoplugin
 * @link              https://wordpress.org/plugins/cf-geoplugin/
 * @author            Ivijan-Stefan Stipic <ivijan.stefan@gmail.com>
 * @copyright         2014-2022 Ivijan-Stefan Stipic
 * @license           GPL v2 or later
 */
!function(a){a(document).ready(function(e){var t,r;(t=a(".cf-geoplugin-banner.cache")).length>0&&1==CFGP.cache&&t.each(function(){var e=a(this),t=e.attr("data-id")||"",r=e.attr("data-posts_per_page")||"",n=e.attr("data-class")||"",o=e.attr("data-exact")||"",c=e.attr("data-default")||"",d=function(){return a.ajax({type:"POST",dataType:1==CFGP.rest_enabled?"json":"html",accept:1==CFGP.rest_enabled?"application/json":"text/html",url:1==CFGP.rest_enabled?CFGP.cache_banner_url:"undefined"!=typeof ajaxurl?ajaxurl:CFGP.ajaxurl,data:{action:"cf_geoplugin_banner_cache",id:t,posts_per_page:r,class:n,exact:o,default:c},async:!0}).done(function(a){1==CFGP.rest_enabled?!1===a.error&&e.html(a.response):e.html(a),e.removeClass("cache").addClass("cached").removeAttr("data-default").removeAttr("data-posts_per_page").removeAttr("data-class").removeAttr("data-exact").removeAttr("data-nonce").removeAttr("data-id")})};d().fail(function(){d().fail(function(){d()})})}),(r=a(".cf-geoplugin-shortcode.cache")).length>0&&1==CFGP.cache&&r.each(function(){var e=a(this),t=e.attr("data-options")||"",r=e.attr("data-type")||"",n=e.attr("data-default")||"",o=function(){return a.ajax({type:"POST",dataType:1==CFGP.rest_enabled?"json":"html",accept:1==CFGP.rest_enabled?"application/json":"text/html",url:1==CFGP.rest_enabled?CFGP.cache_shortcode_url:"undefined"!=typeof ajaxurl?ajaxurl:CFGP.ajaxurl,data:{action:"cf_geoplugin_shortcode_cache",options:t,shortcode:r,default:n},async:!0}).done(function(a){if(1==CFGP.rest_enabled){if("false"==a.response||!0===a.error)return;e.html(a.response)}else{if("false"==a)return;e.html(a)}e.removeClass("cache").addClass("cached").removeAttr("data-default").removeAttr("data-type").removeAttr("data-nonce").removeAttr("data-options")})};o().fail(function(){o().fail(function(){o()})})})})}(jQuery||window.jQuery||Zepto||window.Zepto);