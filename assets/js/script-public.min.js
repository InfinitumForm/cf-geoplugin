/*
 * Geo Controller
 * @package           cf-geoplugin
 * @link              https://wordpress.org/plugins/cf-geoplugin/
 * @author            Ivijan-Stefan Stipic <ivijan.stefan@gmail.com>
 * @copyright         2014-2022 Ivijan-Stefan Stipic
 * @license           GPL v2 or later
 */ !function(a){a(document).ready(function(e){var t,n;(t=a(".cf-geoplugin-banner.cache")).length>0&&1==CFGP.cache&&t.each(function(){var e=a(this),t=e.attr("data-id")||"",n=e.attr("data-posts_per_page")||"",c=e.attr("data-class")||"",o=e.attr("data-exact")||"",r=e.attr("data-default")||"",d=function(){return a.ajax({type:"POST",dataType:1==CFGP.rest_enabled?"json":"html",accept:1==CFGP.rest_enabled?"application/json":"text/html",url:1==CFGP.rest_enabled?CFGP.cache_banner_url:"undefined"!=typeof ajaxurl?ajaxurl:CFGP.ajaxurl,data:{action:"cf_geoplugin_banner_cache",id:t,posts_per_page:n,class:c,exact:o,default:r,key:void 0!==window.cfgeo?window.cfgeo.key:CFGP.key},async:!0}).done(function(a){1==CFGP.rest_enabled?!1===a.error&&e.html(a.response):e.html(a),e.removeClass("cache").addClass("cached").removeAttr("data-default data-posts_per_page data-class data-exact data-nonce data-id")})};d().fail(function(){d().fail(function(){d()})})}),(n=a(".cf-geoplugin-shortcode.cache")).length>0&&1==CFGP.cache&&n.each(function(){var e=a(this),t=e.attr("data-options")||"",n=e.attr("data-type")||"",c=e.attr("data-default")||"",o=function(){return a.ajax({type:"POST",dataType:1==CFGP.rest_enabled?"json":"html",accept:1==CFGP.rest_enabled?"application/json":"text/html",url:1==CFGP.rest_enabled?CFGP.cache_shortcode_url:"undefined"!=typeof ajaxurl?ajaxurl:CFGP.ajaxurl,data:{action:"cf_geoplugin_shortcode_cache",options:t,shortcode:n,default:c,key:void 0!==window.cfgeo?window.cfgeo.key:CFGP.key},async:!0}).done(function(a){if(1==CFGP.rest_enabled){if("false"==a.response||!0===a.error)return;e.html(a.response)}else{if("false"==a)return;e.html(a)}e.removeClass("cache").addClass("cached").removeAttr("data-default data-type data-nonce data-options")})};o().fail(function(){o().fail(function(){o()})})})})}(jQuery||window.jQuery||Zepto||window.Zepto);